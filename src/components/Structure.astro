---
---
<section id="structure" class="py-16 border-b border-border">
  <div class="max-w-4xl mx-auto px-6">
    <h2 class="text-lg font-bold text-white mb-1 font-sans">3. Directory Structure</h2>
    <p class="text-fg-dim text-xs mb-8">Two layers with overlay semantics. Workspace overrides global.</p>

    <div class="grid lg:grid-cols-5 gap-6">
      <!-- Tree -->
      <div class="lg:col-span-3 code-block rounded-md overflow-hidden">
        <div class="px-4 py-2 border-b border-border text-fg-dim text-xs">full layout</div>
        <pre class="p-5 text-[13px] leading-loose overflow-x-auto"><code><span class="text-white font-bold">.agents/</span>
├── <span class="text-accent-blue">speakmcp-settings.json</span>  <span class="text-fg-dim"># general settings</span>
├── <span class="text-accent-blue">mcp.json</span>                <span class="text-fg-dim"># MCP servers &amp; tools</span>
├── <span class="text-accent-blue">models.json</span>             <span class="text-fg-dim"># model presets &amp; keys</span>
├── <span class="text-accent-green">system-prompt.md</span>        <span class="text-fg-dim"># system prompt</span>
├── <span class="text-accent-green">agents.md</span>               <span class="text-fg-dim"># agent guidelines</span>
├── layouts/
│   └── <span class="text-accent-blue">ui.json</span>             <span class="text-fg-dim"># UI/layout prefs</span>
├── <span class="text-accent-amber">skills/</span>
│   ├── code-review/
│   │   └── <span class="text-accent-amber">skill.md</span>
│   └── deploy-pipeline/
│       └── <span class="text-accent-amber">skill.md</span>
├── <span class="text-accent-violet">agents/</span>
│   ├── code-reviewer/
│   │   ├── <span class="text-accent-violet">agent.md</span>         <span class="text-fg-dim"># profile + system prompt</span>
│   │   └── <span class="text-accent-blue">config.json</span>      <span class="text-fg-dim"># tool/model/connection</span>
│   └── deploy-specialist/
│       └── <span class="text-accent-violet">agent.md</span>
├── <span class="text-accent-teal">tasks/</span>
│   └── daily-code-review/
│       └── <span class="text-accent-teal">task.md</span>          <span class="text-fg-dim"># repeat task definition</span>
├── <span class="text-accent-rose">memories/</span>
│   ├── <span class="text-accent-rose">arch-decisions.md</span>
│   └── <span class="text-accent-rose">user-prefs.md</span>
└── .backups/               <span class="text-fg-dim"># auto-rotated</span>
    ├── skills/
    └── memories/</code></pre>
      </div>

      <!-- Layers -->
      <div class="lg:col-span-2 space-y-4">
        <div class="spec-card rounded-md p-4">
          <div class="text-xs text-fg-dim mb-2">LAYER 1 — GLOBAL</div>
          <code class="text-accent-cyan text-[13px]">~/.agents/</code>
          <p class="text-fg-muted text-xs mt-2 leading-relaxed">
            Canonical config. Created on startup, synced with settings changes. Base layer for all projects.
          </p>
        </div>

        <div class="spec-card rounded-md p-4">
          <div class="text-xs text-fg-dim mb-2">LAYER 2 — WORKSPACE</div>
          <code class="text-accent-cyan text-[13px]">&lt;project&gt;/.agents/</code>
          <p class="text-fg-muted text-xs mt-2 leading-relaxed">
            Optional overrides. Shallow-merges with global — workspace wins. Commit to git for team config.
          </p>
        </div>

        <div class="spec-card rounded-md p-4">
          <div class="text-xs text-fg-dim mb-2">MERGE ORDER</div>
          <div class="flex items-center gap-2 text-[13px] flex-wrap">
            <span class="text-fg-dim">defaults</span>
            <span class="text-border">←</span>
            <span class="text-fg-dim">config.json</span>
            <span class="text-border">←</span>
            <span class="text-accent-cyan">~/.agents</span>
            <span class="text-border">←</span>
            <span class="text-accent-green">./.agents</span>
          </div>
          <p class="text-fg-dim text-xs mt-2">JSON: shallow-merge by key. Skills/memories/agents/tasks: merge by ID (workspace wins).</p>
        </div>
      </div>
    </div>
  </div>
</section>

